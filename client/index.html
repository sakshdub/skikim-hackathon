<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sikkim Tourism - The Hidden Paradise</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

    <style>
        /* --- Custom CSS for a Professional & Interactive Website --- */
        :root {
            --primary-color: #0d6efd; /* A vibrant blue */
            --secondary-color: #f8f9fa; /* Light grey */
            --text-color: #343a40; /* Dark grey */
            --light-text: #f8f9fa;
            --dark-bg: #212529;
            --heading-font: 'Playfair Display', serif;
            --body-font: 'Poppins', sans-serif;
        }

        body {
            font-family: var(--body-font);
            color: var(--text-color);
            line-height: 1.7;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: var(--heading-font);
            font-weight: 700;
        }

        /* --- Reusable Components & Effects --- */
        .section {
            padding: 80px 0;
        }
        .section-title {
            text-align: center;
            margin-bottom: 60px;
            font-size: 2.5rem;
            position: relative;
        }
        .section-title::after {
            content: '';
            width: 80px;
            height: 3px;
            background: var(--primary-color);
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 2px;
        }
        .parallax-bg {
            background-attachment: fixed;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
            position: relative;
        }
        .top-visited-bg {
            background-image: url('assets/images/landscape.jpg');
        }
        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
        }
        .content-above-overlay {
            position: relative;
            z-index: 2;
        }
        .animated-card {
            border: none;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1), box-shadow 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        .animated-card:hover {
            transform: translateY(-15px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }
        .card-img-top-div {
            height: 250px;
            background-size: cover;
            background-position: center;
        }

        /* --- Navigation Bar --- */
        .navbar-dark .navbar-nav .nav-link {
            color: rgba(255, 255, 255, 0.85);
            font-weight: 400;
            transition: color 0.3s;
        }
        .navbar.scrolled {
            background-color: var(--dark-bg) !important;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        /* --- Hero Slider --- */
        .hero-slider {
            height: 100vh;
        }
        .hero-slider .carousel-item {
            height: 100vh;
            background-size: cover;
            background-position: center;
        }
        .hero-slider .carousel-item-1 {
            background-image: url('assets/images/river.jpg');
        }
        .hero-slider .carousel-item-2 {
            background-image: url('assets/images/monk.jpg');
        }
        .hero-slider .carousel-item-3 {
            background-image: url('assets/images/mountain.jpg');
        }
        .hero-slider .carousel-caption {
            top: 50%;
            transform: translateY(-50%);
            bottom: auto;
            text-align: center;
        }
        .hero-slider .carousel-caption h1 {
            font-size: 4rem;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.7);
        }

        /* --- Dignitaries Section --- */
        .dignitary-card { text-align: center; }
        .dignitary-img {
            width: 150px;
            height: 150px;
            object-fit: cover;
            border-radius: 50%;
            border: 4px solid #fff;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin: 0 auto;
            background-size: cover;
            background-position: center;
        }
        .dignitary-img-1 { background-image: url('assets/images/om_prakash_mathur.jpg'); }
        .dignitary-img-2 { background-image: url('assets/images/hcm.jpg'); }
        .dignitary-img-3 { background-image: url('assets/images/Shri Tshering Thendup Bhutia.jpg'); }
        .dignitary-img-4 { background-image: url('assets/images/Shri Sudesh Kumar Subba.jpg'); }
        .dignitary-card h5 { margin-top: 1rem; font-size: 1.2rem; }
        .dignitary-card p { font-size: 0.9rem; color: #6c757d; }

        /* --- News & Events Slider --- */
        .news-slider .swiper-slide {
            background: #fff;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
        }
        .news-slider .card-body { padding: 1.5rem; }
        .news-img-1 { background-image: url('assets/images/Sikkimcold.jpg'); }
        .news-img-2 { background-image: url('assets/images/Street Food Festival.jpg'); }
        .news-img-3 { background-image: url('assets/images/e9.jpg'); }
        .news-slider .swiper-button-next, .news-slider .swiper-button-prev {
            color: var(--primary-color);
        }
        
        /* --- Discover Sikkim Section --- */
        .discover-link {
            text-decoration: none;
        }
        .discover-card {
            position: relative;
            overflow: hidden;
            border-radius: 15px;
            color: white;
            min-height: 280px;
            background-size: cover;
            background-position: center;
            transition: transform 0.4s ease;
        }
        .discover-card:hover {
            transform: scale(1.05);
        }
        .discover-bg-1 { background-image: url('assets/images/Monasteries.jpg'); }
        .discover-bg-2 { background-image: url('assets/images/Trekking.jpg'); }
        .discover-bg-3 { background-image: url('assets/images/Pilgrimage Sites.jpg'); }
        .discover-bg-4 { background-image: url('assets/images/Culture-of-Sikkim.webp'); }
        .discover-card-content {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            padding: 1.5rem;
            background: linear-gradient(to top, rgba(0,0,0,0.9), transparent);
        }
        
        /* --- Weather Section --- */
        .weather-card {
            background-color: #fff;
            border-radius: 15px;
            padding: 2rem;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            transition: transform 0.3s;
        }
        .weather-card:hover { transform: translateY(-10px); }
        .weather-card i { font-size: 3rem; }
        .weather-card .temp { font-size: 1.5rem; font-weight: 600; color: var(--primary-color); }
        .weather-card .season { font-weight: 600; font-size: 1.2rem; }

        /* --- Footer --- */
        .footer {
            background-color: var(--dark-bg);
            color: rgba(255, 255, 255, 0.7);
        }
        .footer a { color: rgba(255, 255, 255, 0.7); text-decoration: none; }
        .footer a:hover { color: #fff; }

        /* --- Scroll Animations --- */
        .scroll-reveal {
            opacity: 0;
            transform: translateY(40px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        .scroll-reveal.visible {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-dark bg-transparent fixed-top">
        <div class="container">
            <a class="navbar-brand" href="index.html">Sikkim Tourism</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link active" href="index.html">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="destinations.html">Destinations</a></li>
                    <li class="nav-item"><a class="nav-link" href="things-to-do.html">Things to Do</a></li>
                    <li class="nav-item"><a class="nav-link" href="experience.html">Experience</a></li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown">Plan Your Trip</a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="accommodations.html">Accommodations</a></li>
                            <li><a class="dropdown-item" href="travel-guides.html">travel guide</a></li>
                            <li><a class="dropdown-item" href="traveller-essentials.html">Travel Info</a></li>
                        </ul>
                    </li>
                    <li class="nav-item"><a class="nav-link" href="contact.html">Contact Us</a></li>
                    
                    <li class="nav-item" id="register-nav-item">
                        <a class="btn btn-outline-light ms-lg-2 mt-2 mt-lg-0" href="register.html">Register</a>
                    </li>
                    <li class="nav-item" id="login-nav-item">
                        <a class="btn btn-primary ms-lg-2 mt-2 mt-lg-0" href="login.html">Login</a>
                    </li>

                    <li class="nav-item" id="welcome-nav-item" style="display: none;">
                         <a class="nav-link" href="#">Welcome, User!</a>
                    </li>
                    <li class="nav-item" id="logout-nav-item" style="display: none;">
                        <a class="btn btn-danger ms-lg-2 mt-2 mt-lg-0" href="#" id="logout-link">Logout</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <header id="heroSlider" class="carousel slide carousel-fade hero-slider" data-bs-ride="carousel">
        <div class="carousel-inner">
            <div class="carousel-item active carousel-item-1">
                <div class="carousel-caption">
                    <h1 class="display-3">Discover the Soul of the Himalayas</h1>
                </div>
            </div>
            <div class="carousel-item carousel-item-2">
                <div class="carousel-caption">
                    <h1>Land of Majestic Monasteries</h1>
                </div>
            </div>
             <div class="carousel-item carousel-item-3">
                <div class="carousel-caption">
                    <h1>Home to Sacred, Pristine Lakes</h1>
                </div>
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#heroSlider" data-bs-slide="prev">
            <span class="carousel-control-prev-icon"></span><span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#heroSlider" data-bs-slide="next">
            <span class="carousel-control-next-icon"></span><span class="visually-hidden">Next</span>
        </button>
    </header>

    <section class="section bg-light">
        <div class="container text-center">
             <div class="row justify-content-center">
                <div class="col-lg-3 col-md-6 mb-4 scroll-reveal">
                    <div class="dignitary-card">
                        <div class="dignitary-img dignitary-img-1"></div>
                        <h5>Shri Om Prakash Mathur</h5>
                        <p>Hon'ble Governor, Sikkim</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 mb-4 scroll-reveal">
                    <div class="dignitary-card">
                        <div class="dignitary-img dignitary-img-2"></div>
                        <h5>Shri Prem Singh Tamang</h5>
                        <p>Hon'ble Chief Minister, Sikkim</p>
                    </div>
                </div>
                 <div class="col-lg-3 col-md-6 mb-4 scroll-reveal">
                    <div class="dignitary-card">
                        <div class="dignitary-img dignitary-img-3"></div>
                        <h5>Shri Tshering Thendup Bhutia</h5>
                        <p>Minister, Dept. of Tourism & Civil Aviation</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 mb-4 scroll-reveal">
                    <div class="dignitary-card">
                        <div class="dignitary-img dignitary-img-4"></div>
                        <h5>Shri Sudesh Kumar Subba</h5>
                        <p>Advisor, Dept. of Tourism & Civil Aviation</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="section">
        <div class="container">
            <h2 class="section-title">News & Events</h2>
            <div class="swiper news-slider scroll-reveal">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <div class="card border-0 h-100">
                            <div class="card-img-top-div news-img-1"></div>
                            <div class="card-body">
                                <h5 class="card-title">Sikkim in National Geographic's Coolest Places To Visit In 2024</h5>
                                <p class="card-text">Sikkim gains international acclaim, featured as a top global destination for its stunning landscapes and unique culture.</p>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-slide">
                         <div class="card border-0 h-100">
                            <div class="card-img-top-div news-img-2"></div>
                            <div class="card-body">
                                <h5 class="card-title">International Street Food Festival 2025</h5>
                                <p class="card-text">As a part of the 50 glorious years of Statehood celebration, a vibrant street food festival is being organised. <strong>Venue:</strong> Ridge Park, Gangtok | <strong>Date:</strong> 28th May to 1st June 2025.</p>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="card border-0 h-100">
                           <div class="card-img-top-div news-img-3"></div>
                            <div class="card-body">
                                <h5 class="card-title">Heritage Walk</h5>
                                <p class="card-text">Join guided heritage walks through Gangtok to discover the history, culture, and stories of Sikkim's capital city.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>
            </div>
        </div>
    </section>

    <section class="section bg-light">
        <div class="container">
            <h2 class="section-title">Discover Sikkim</h2>
            <div class="row" id="discover-cards-container">
                <div class="col-lg-3 col-md-6 mb-4 scroll-reveal">
                    <a href="/sikkim-tourism/assets/images/Trekking.jpg" class="discover-link">
                        <div class="discover-card discover-bg-2">
                            <div class="discover-card-content"><h5>Trekking</h5><p>Best trekking experience for adventure lovers...</p></div>
                        </div>
                    </a>
                </div>
                </div>
            <div class="text-center mt-4">
                <a href="experience.html" class="btn btn-primary btn-lg">Discover Sikkim More</a>
            </div>
        </div>
    </section>

    <section class="section">
        <div class="container">
            <h2 class="section-title">Weather in Sikkim</h2>
            <div class="row">
                <div class="col-lg-4 col-md-6 mb-4 scroll-reveal">
                    <div class="weather-card">
                        <i class="bi bi-cloud-sun text-warning"></i>
                        <h3 class="season mt-3">Summer</h3>
                        <p class="text-muted">(March to June)</p>
                        <p class="temp">5°C to 25°C</p>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 mb-4 scroll-reveal">
                    <div class="weather-card">
                        <i class="bi bi-cloud-drizzle text-info"></i>
                        <h3 class="season mt-3">Monsoon</h3>
                        <p class="text-muted">(July to September)</p>
                        <p class="temp">5°C to 20°C</p>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 mb-4 scroll-reveal">
                    <div class="weather-card">
                        <i class="bi bi-snow text-primary"></i>
                        <h3 class="season mt-3">Winter</h3>
                        <p class="text-muted">(October to February)</p>
                        <p class="temp">-7°C to 5°C</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <section class="section parallax-bg top-visited-bg">
        <div class="overlay"></div>
        <div class="container content-above-overlay text-white">
            <h2 class="section-title">Top Visited Places</h2>
            <div class="row text-center">
                 <div class="col-lg-4 col-md-6 mb-4"><h5><i class="bi bi-geo-alt-fill"></i> Buddha Park, South Sikkim</h5></div>
                 <div class="col-lg-4 col-md-6 mb-4"><h5><i class="bi bi-geo-alt-fill"></i> Gurudongmar Lake, North Sikkim</h5></div>
                 <div class="col-lg-4 col-md-6 mb-4"><h5><i class="bi bi-geo-alt-fill"></i> MG Marg, East Sikkim</h5></div>
                 <div class="col-lg-4 col-md-6 mb-4"><h5><i class="bi bi-geo-alt-fill"></i> Tsongmo Lake, East Sikkim</h5></div>
                 <div class="col-lg-4 col-md-6 mb-4"><h5><i class="bi bi-geo-alt-fill"></i> Rabdentse, West Sikkim</h5></div>
                 <div class="col-lg-4 col-md-6 mb-4"><h5><i class="bi bi-geo-alt-fill"></i> Siddheshwar Dham, South Sikkim</h5></div>
            </div>
        </div>
    </section>

    <footer class="footer pt-5 pb-4">
        <div class="container text-center text-md-start">
            <div class="row mt-3">
                <div class="col-md-3 col-lg-4 col-xl-3 mx-auto mb-4">
                    <h6 class="text-uppercase fw-bold">Contact</h6>
                    <hr class="mb-4 mt-0 d-inline-block mx-auto" style="width: 60px; background-color: var(--primary-color); height: 2px"/>
                    <p>Tourism & Civil Aviation Dept, Paryatan Bhawan, Tadong, Gangtok, Sikkim - 737102</p>
                    <p>03592-209090 | 03592-232218</p>
                    <p>secy_tourism@yahoo.com</p>
                </div>
                <div class="col-md-3 col-lg-2 col-xl-2 mx-auto mb-4">
                    <h6 class="text-uppercase fw-bold">Useful Information</h6>
                    <hr class="mb-4 mt-0 d-inline-block mx-auto" style="width: 60px; background-color: var(--primary-color); height: 2px"/>
                    <p><a href="#!" class="text-reset">Useful Forms</a></p>
                    <p><a href="#!" class="text-reset">Tourist Information Center</a></p>
                    <p><a href="#!" class="text-reset">FAQs</a></p>
                    <p><a href="#!" class="text-reset">Permit Office Timings</a></p>
                </div>
                <div class="col-md-3 col-lg-2 col-xl-2 mx-auto mb-4">
                    <h6 class="text-uppercase fw-bold">About This Site</h6>
                    <hr class="mb-4 mt-0 d-inline-block mx-auto" style="width: 60px; background-color: var(--primary-color); height: 2px"/>
                    <p><a href="#!" class="text-reset">Sitemap</a></p>
                    <p><a href="#!" class="text-reset">Privacy Policy</a></p>
                    <p><a href="#!" class="text-reset">Terms and Conditions</a></p>
                    <p><a href="#!" class="text-reset">Notice / Tender</a></p>
                </div>
                 <div class="col-md-3 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4">
                    <h6 class="text-uppercase fw-bold">Find us on</h6>
                    <hr class="mb-4 mt-0 d-inline-block mx-auto" style="width: 60px; background-color: var(--primary-color); height: 2px"/>
                    <a href="#" class="btn btn-outline-primary btn-floating m-1" role="button"><i class="bi bi-facebook"></i></a>
                    <a href="#" class="btn btn-outline-primary btn-floating m-1" role="button"><i class="bi bi-twitter-x"></i></a>
                    <a href="#" class="btn btn-outline-primary btn-floating m-1" role="button"><i class="bi bi-instagram"></i></a>
                </div>
            </div>
        </div>
        <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2)">
            © 2025 All Rights Reserved. Tourism and Civil Aviation Department, Government of Sikkim.
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // --- Call functions to connect to backend ---
        updateNavBasedOnLogin();
        fetchAndDisplayMonasteries();

        // --- Navbar Scroll Effect ---
        const navbar = document.querySelector('.navbar');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });

        // --- Swiper JS Initialization for News Slider ---
        const swiper = new Swiper('.news-slider', {
            loop: true,
            spaceBetween: 30,
            slidesPerView: 1,
            autoplay: {
                delay: 5000,
                disableOnInteraction: false,
            },
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev',
            },
            breakpoints: {
                768: { slidesPerView: 2 },
                992: { slidesPerView: 3 }
            }
        });

        // --- Scroll Reveal Animation ---
        const revealElements = document.querySelectorAll('.scroll-reveal');
        const revealOptions = {
            threshold: 0.1,
            rootMargin: "0px 0px -50px 0px"
        };
        const revealOnScroll = new IntersectionObserver(function(entries, observer) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    observer.unobserve(entry.target);
                }
            });
        }, revealOptions);
        revealElements.forEach(element => {
            revealOnScroll.observe(element);
        });

        // --- Authentication Logic ---
        function updateNavBasedOnLogin() {
            const token = localStorage.getItem('accessToken');
            const registerNavItem = document.getElementById('register-nav-item');
            const loginNavItem = document.getElementById('login-nav-item');
            const welcomeNavItem = document.getElementById('welcome-nav-item');
            const logoutNavItem = document.getElementById('logout-nav-item');

            if (token) {
                registerNavItem.style.display = 'none';
                loginNavItem.style.display = 'none';
                welcomeNavItem.style.display = 'block';
                logoutNavItem.style.display = 'block';
            } else {
                registerNavItem.style.display = 'block';
                loginNavItem.style.display = 'block';
                welcomeNavItem.style.display = 'none';
                logoutNavItem.style.display = 'none';
            }
        }

        const logoutLink = document.getElementById('logout-link');
        if (logoutLink) {
            logoutLink.addEventListener('click', (event) => {
                event.preventDefault();
                localStorage.removeItem('accessToken');
                localStorage.removeItem('refreshToken');
                updateNavBasedOnLogin();
            });
        }

        // --- Fetch and Display Monasteries (Corrected Version) ---
        async function fetchAndDisplayMonasteries() {
            const container = document.getElementById('discover-cards-container');
            if (!container) return;

            // **THE FIX:** Clear any static content first
//            container.innerHTML = '<p id="loading-message" class="text-center">Loading monasteries...</p>';
            
            try {
                const response = await fetch('http://127.0.0.1:8000/api/monasteries/');
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const monasteries = await response.json();

                // Clear the loading message
                container.innerHTML = '';

                // If no monasteries are in the database, show a message
                if (monasteries.length === 0) {
                    container.innerHTML = '<p class="text-center">No monasteries to display at the moment.</p>';
                    return;
                }

                monasteries.forEach(monastery => {
                    const cardHTML = `
                        <div class="col-lg-3 col-md-6 mb-4 scroll-reveal">
                            <a href="monastery-details.html?id=${monastery.id}" class="discover-link">
                                <div class="discover-card" style="background-image: url('${monastery.main_image_url}');">
                                    <div class="discover-card-content">
                                        <h5>${monastery.name}</h5>
                                        <p>${monastery.description.substring(0, 50)}...</p>
                                    </div>
                                </div>
                            </a>
                        </div>
                    `;
                    container.insertAdjacentHTML('beforeend', cardHTML);
                });

                // Re-initialize scroll animations for the new elements
                container.querySelectorAll('.scroll-reveal').forEach(element => {
                    revealOnScroll.observe(element);
                });

            } catch (error) {
                console.error("Could not fetch monasteries:", error);
                container.innerHTML = '<p class="text-center text-danger">Could not load monastery data.</p>';
            }
        }
    });
</script>
</body>
</html>